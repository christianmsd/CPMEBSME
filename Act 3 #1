#include <iostream>
#include <string>
#include <cstdlib>
using namespace std;

int main() {
    string tryAgain = "y";

    do {
        system("cls");

        int intA, intB;
        double A = 0, B = 0;
        char signA, signB;
        bool invalid = false;

        cout << "Input dividend: ";
        signA = cin.peek();

        if (cin >> intA) {
            if (cin.peek() == '.') {
                char decimalPoint;
                cin >> decimalPoint;
                int decimalDigits = 0;
                while (cin.peek() >= '0' && cin.peek() <= '9') {
                    char digit;
                    cin >> digit;
                    if (digit != '0') {
                        decimalDigits++;
                    }
                }
                if (decimalDigits > 0) {
                    cout << "Input Invalid\n";
                    invalid = true;
                }
                cin.ignore(10000, '\n');
                A = intA;
            }
            else if (intA == 0 && (signA == '+' || signA == '-')) {
                cout << "Input Invalid\n";
                cin.ignore(10000, '\n');
                invalid = true;
            }
            else {
                cin.ignore(10000, '\n');
                A = intA;
            }
        }
        else {
            cout << "Input Invalid\n";
            cin.clear();
            cin.ignore(10000, '\n');
            invalid = true;
        }

        if (!invalid) {
            cout << "Input divisor: ";
            signB = cin.peek();

            if (cin >> intB) {
                if (cin.peek() == '.') {
                    char decimalPoint;
                    cin >> decimalPoint;
                    int decimalDigits = 0;
                    while (cin.peek() >= '0' && cin.peek() <= '9') {
                        char digit;
                        cin >> digit;
                        if (digit != '0') {
                            decimalDigits++;
                        }
                    }
                    if (decimalDigits > 0) {
                        cout << "Input Invalid\n";
                        invalid = true;
                    }
                    cin.ignore(10000, '\n');
                    B = intB;
                }
                else if (intB == 0 && (signB == '+' || signB == '-')) {
                    cout << "Input Invalid\n";
                    cin.ignore(10000, '\n');
                    invalid = true;
                }
                else {
                    cin.ignore(10000, '\n');
                    B = intB;
                }
            }
            else {
                cout << "Input Invalid\n";
                cin.clear();
                cin.ignore(10000, '\n');
                invalid = true;
            }
        }

        if (!invalid) {
            if (A == 0 && B == 0) {
                cout << "Remainder: Indeterminate\n";
            }
            else if (B == 0) {
                cout << "Remainder: Undefined\n";
            }
            else if (A >= 0 && B > 0) {
                while (A >= B) A -= B;
                cout << "Remainder: " << A << endl;
            }
            else if (A < 0 && B > 0) {
                double C = -B;
                while (A <= C) A += B;
                cout << "Remainder: " << A << endl;
            }
            else if (A >= 0 && B < 0) {
                double C = -B;
                while (A >= C) A += B;
                cout << "Remainder: " << A * -1 << endl;
            }
            else if (A < 0 && B < 0) {
                while (A <= B) A -= B;
                cout << "Remainder: " << A << endl;
            }
        }

        while (true) {
            cout << "Do you want to try again? (y/n): ";
            getline(cin, tryAgain);
            if (tryAgain == "y" || tryAgain == "n") break;
            cout << "Invalid input. Please enter exactly 'y' or 'n'.\n";
        }

    } while (tryAgain == "y");

    cout << "Program ended.\n";
    return 0;
}
