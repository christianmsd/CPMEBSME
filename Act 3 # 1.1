#include <iostream>
#include <string>
#include <cctype>
using namespace std;

int main() {
    string tryAgain;

    do {
        string sA, sB;
        bool invalidInput = false;    // Tracks if the input is invalid
        bool outputPrinted = false;   // Tracks if we already printed a message

        cout << "Input dividend: ";
        cin >> sA;
        cout << "Input divisor: ";
        cin >> sB;

        // ----------- Check for decimals in sA ----------
        int dotPos = -1;
        for (int i = 0; i < sA.length(); i++) {
            if (sA[i] == '.' || sA[i] == ',') {
                dotPos = i;
                break;
            }
        }
        if (dotPos != -1) {
            for (int i = dotPos + 1; i < sA.length(); i++) {
                if (sA[i] != '0') {
                    cout << "Remainder: Invalid\n";
                    outputPrinted = true;
                    invalidInput = true;
                    break;
                }
            }
            sA = sA.substr(0, dotPos);
        }

        // ----------- Check for decimals in sB ----------
        dotPos = -1;
        for (int i = 0; i < sB.length(); i++) {
            if (sB[i] == '.' || sB[i] == ',') {
                dotPos = i;
                break;
            }
        }
        if (dotPos != -1) {
            for (int i = dotPos + 1; i < sB.length(); i++) {
                if (sB[i] != '0') {
                    cout << "Remainder: Invalid\n";
                    outputPrinted = true;
                    invalidInput = true;
                    break;
                }
            }
            sB = sB.substr(0, dotPos);
        }

        // ----------- Check for invalid characters ----------
        for (int i = 0; i < sA.length() && !invalidInput; i++) {
            if (!isdigit(sA[i]) && !(i == 0 && (sA[i] == '+' || sA[i] == '-'))) {
                invalidInput = true;
                outputPrinted = true;
                cout << "Remainder: Invalid\n";
            }
        }
        for (int i = 0; i < sB.length() && !invalidInput; i++) {
            if (!isdigit(sB[i]) && !(i == 0 && (sB[i] == '+' || sB[i] == '-'))) {
                invalidInput = true;
                outputPrinted = true;
                cout << "Remainder: Invalid\n";
            }
        }

        // ----------- Handle signed zeros ----------
        if (!invalidInput && (sA == "+0" || sA == "-0" || sB == "+0" || sB == "-0")) {
            invalidInput = true;
            outputPrinted = true;
            cout << "Remainder: Invalid\n";
        }

        // ----------- Handle 0 / 0 → Indeterminate ----------
        if (!invalidInput && sA == "0" && sB == "0") {
            outputPrinted = true;
            cout << "Remainder: Indeterminate\n";
            invalidInput = true;
        }

        // ----------- Handle number / 0 → Undefined ----------
        if (!invalidInput && sB == "0") {
            outputPrinted = true;
            cout << "Remainder: Undefined\n";
            invalidInput = true;
        }

        // ----------- Compute remainder if input is valid ----------
        if (!invalidInput && !outputPrinted) {
            int A = stoi(sA);
            int B = stoi(sB);

            if (A > 0 && B > 0) {
                while (A >= B) A -= B;
            } else if (A < 0 && B > 0) {
                while (A <= -B) A += B;
            } else if (A > 0 && B < 0) {
                while (A >= -B) A += B;
            } else if (A < 0 && B < 0) {
                while (A <= B) A -= B;
            }

            cout << "Remainder: " << A << "\n";
        }

        // ----------- Ask to try again (must be exactly 'y' or 'n') ----------
        do {
            cout << "Do you want to try again? (y/n): ";
            cin >> tryAgain;

            if (tryAgain != "y" && tryAgain != "n") {
                cout << "Invalid input. Please enter 'y' or 'n'.\n";
            }
        } while (tryAgain != "y" && tryAgain != "n");

        cout << "\n";

    } while (tryAgain == "y");

    cout << "Program ended.\n";
    return 0;
}

